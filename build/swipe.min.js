!function(t,e){t=t||{},"function"==typeof define&&define.amd?define([],function(){return t.Swipe=e(),t.Swipe}):"object"==typeof module&&module.exports?module.exports=e():t.Swipe=e()}(this,function(){var e,V="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,W=V.document;function Swipe(s,a){"use strict";function e(){}function r(t){return!!t&&("boolean"!=typeof t.cancelable||t.cancelable)}var u,t,l=!1,c={},d={},f=(a=a||{}).auto||0,n=!1,v=function(t){setTimeout(t||e,0)};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n});var h={addEventListener:!!V.addEventListener,passiveEvents:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});V.addEventListener("testEvent",null,t),V.removeEventListener("testEvent",null,t)}catch(t){e=!1}return e}(),touch:"ontouchstart"in V||V.DocumentTouch&&W instanceof DocumentTouch,transitions:function(t){var e,n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(e in n)if(void 0!==t.style[n[e]])return!0;return!1}(W.createElement("swipe"))};if(s){var m,p,y,E,g=s.children[0],b=parseInt(a.startSlide,10)||0,x=a.speed||300;a.continuous=void 0===a.continuous||a.continuous,a.freeMode=void 0===a.freeMode||a.freeMode;var i,o,T=(i="direction",s.currentStyle?o=s.currentStyle[i]:V.getComputedStyle&&(o=V.getComputedStyle(s,null).getPropertyValue(i)),"rtl"===o?"right":"left");a.autoRestart=void 0!==a.autoRestart&&a.autoRestart;var w=function(n,i){i=i||100;var o=null;function r(){o&&clearTimeout(o)}function t(){var t=this,e=arguments;r(),o=setTimeout(function(){o=null,n.apply(t,e)},i)}return t.cancel=r,t}(D),M={handleEvent:function(t){if(!n||"resize"===t.type){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":w()}a.stopPropagation&&t.stopPropagation()}},start:function(t){var e=Q(t)?t:t.touches[0];a.ignore&&e.target.matches(a.ignore)||(Q(t)&&t.preventDefault(),l=!0,c={x:e.clientX,y:e.clientY,time:+new Date},u=void 0,d={},t=j(),e=m[b],a.dragStart&&a.dragStart(t,e))},move:function(t){if(l){var e,n,i,o;if(Q(t))e=t;else{if(1<t.touches.length||t.scale&&1!==t.scale)return;a.disableScroll&&r(t)&&t.preventDefault(),e=t.touches[0]}d={x:e.clientX-c.x,y:e.clientY-c.y},void 0===u&&(u=!!(u||Math.abs(3*d.x)<Math.abs(d.y))),u?l=!1:(r(t)&&t.preventDefault(),N(),a.continuous?(n=d.x+p[P(b-1)],i=d.x+p[b],o=d.x+p[P(b+1)],a.freeMode||(n=Math.min(n,0),i=Math.max(Math.min(i,y),-y),o=Math.max(o,0)),R(P(b-1),n,0),R(b,i,0),R(P(b+1),o,0)):(d.x=d.x/(!b&&0<d.x||b===m.length-1&&d.x<0?Math.abs(d.x)/y+1:1),n=d.x+p[b-1],i=d.x+p[b],o=d.x+p[b+1],a.freeMode||(n=Math.min(n,0),i=Math.max(Math.min(i,y),-y),o=Math.max(o,0)),R(b-1,d.x+p[b-1],0),R(b,d.x+p[b],0),R(b+1,d.x+p[b+1],0)))}},end:function(t){var e,n,i;l&&(i=+new Date-c.time,e=Number(i)<250&&20<Math.abs(d.x)||Math.abs(d.x)>y/2,n=!b&&0<d.x||b===m.length-1&&d.x<0,a.continuous&&(n=!1),i=Math.abs(d.x)/d.x,u||(e&&!n?(b=i<0?(a.continuous?(O(P(b-1),-y,0),O(P(b+2),y,0)):O(b-1,-y,0),O(b,p[b]-y,x),O(P(b+1),p[P(b+1)]-y,x),P(b+1)):(a.continuous?(O(P(b+1),y,0),O(P(b-2),-y,0)):O(b+1,y,0),O(b,p[b]+y,x),O(P(b-1),p[P(b-1)]+y,x),P(b-1)),z(j(),m[b],i)):a.continuous?(O(P(b-1),-y,x),O(b,0,x),O(P(b+1),y,x)):(O(b-1,-y,x),O(b,0,x),O(b+1,y,x))),l=!1,n=j(),i=m[b],a.dragEnd&&a.dragEnd(n,i))},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===b&&((f||a.autoRestart)&&X(),A(j(),m[b]))}};return D(),I(),{setup:D,slide:function(t,e){N(),C(t,e)},prev:function(){N(),n||(a.continuous||b)&&C(b-1)},next:function(){N(),k()},restart:X,stop:N,getPos:j,disable:function(){N(),n=!0},enable:function(){n=!1,X()},getNumSlides:function(){return E},kill:function(){N(),s.style.visibility="",g.style.width="",g.style[T]="";var t=m.length;for(;t--;){h.transitions&&R(t,0,0);var e=m[t];e.getAttribute("data-cloned")&&e.parentElement.removeChild(e),e.style.width="",e.style[T]="",e.style.webkitTransitionDuration=e.style.MozTransitionDuration=e.style.msTransitionDuration=e.style.OTransitionDuration=e.style.transitionDuration="",e.style.webkitTransform=e.style.msTransform=e.style.MozTransform=e.style.OTransform=""}L(),w.cancel()}}}function L(){h.addEventListener?(g.removeEventListener("touchstart",M,!!h.passiveEvents&&{passive:!0}),g.removeEventListener("mousedown",M,!1),g.removeEventListener("webkitTransitionEnd",M,!1),g.removeEventListener("msTransitionEnd",M,!1),g.removeEventListener("oTransitionEnd",M,!1),g.removeEventListener("otransitionend",M,!1),g.removeEventListener("transitionend",M,!1),V.removeEventListener("resize",M,!1)):V.onresize=null}function S(t){t=t.cloneNode(!0);g.appendChild(t),t.setAttribute("data-cloned",!0),t.removeAttribute("id")}function D(t){if(null!=t)for(var e in t)a[e]=t[e];m=g.children,E=m.length;for(var n=0;n<m.length;n++)m[n].getAttribute("data-cloned")&&E--;if(m.length<2&&(a.continuous=!1),h.transitions&&a.continuous&&m.length<3&&(S(m[0]),S(m[1]),m=g.children),"right"===T)for(var i=0;i<m.length;i++)m[i].style.float="right";p=new Array(m.length),y=parseFloat(window.getComputedStyle(s,null).getPropertyValue("width"))||s.getBoundingClientRect().width||s.offsetWidth,g.style.width=m.length*y*2+"px";for(var o=m.length;o--;){var r=m[o];r.style.width=y+"px",r.setAttribute("data-index",o),h.transitions&&(r.style[T]=o*-y+"px",O(o,o<b?-y:b<o?y:0,0))}a.continuous&&h.transitions&&(O(P(b-1),-y,0),O(P(b+1),y,0)),h.transitions||(g.style[T]=b*-y+"px"),s.style.visibility="visible",L(),h.addEventListener?(h.touch&&(g.addEventListener("touchstart",M,!!h.passiveEvents&&{passive:!0}),g.addEventListener("touchmove",M,!!h.passiveEvents&&{passive:!1}),g.addEventListener("touchend",M,!1)),a.draggable&&(g.addEventListener("mousedown",M,!1),g.addEventListener("mouseup",M,!1),g.addEventListener("mouseleave",M,!1)),h.transitions&&(g.addEventListener("webkitTransitionEnd",M,!1),g.addEventListener("msTransitionEnd",M,!1),g.addEventListener("oTransitionEnd",M,!1),g.addEventListener("otransitionend",M,!1),g.addEventListener("transitionend",M,!1)),V.addEventListener("resize",M,!1)):V.onresize=w}function k(){n||(a.continuous||b<m.length-1)&&C(b+1)}function z(t,e,n){a.callback&&a.callback(t,e,n)}function A(t,e){a.transitionEnd&&a.transitionEnd(t,e)}function P(t){return(m.length+t%m.length)%m.length}function j(){var t=b;return E<=t&&(t-=E),t}function C(t,e){if(t="number"!=typeof t?parseInt(t,10):t,b!==t){if(h.transitions){var n,i=Math.abs(b-t)/(b-t);a.continuous&&(n=i,(i=-p[P(t)]/y)!==n&&(t=-i*m.length+t));for(var o=Math.abs(b-t)-1;o--;)O(P((b<t?t:b)-o-1),y*i,0);t=P(t),O(b,y*i,e||x),O(t,0,e||x),a.continuous&&O(P(t-i),-y*i,0)}else t=P(t),function(e,n,i){if(!i)return g.style[T]=n+"px";var o=+new Date,r=setInterval(function(){var t=+new Date-o;if(i<t)return g.style[T]=n+"px",(f||a.autoRestart)&&X(),A(j(),m[b]),void clearInterval(r);g.style[T]=(n-e)*(Math.floor(t/i*100)/100)+e+"px"},4)}(b*-y,t*-y,e||x);b=t,v(function(){z(j(),m[b],i)})}}function O(t,e,n){R(t,e,n),p[t]=e}function R(t,e,n){t=m[t],t=t&&t.style;t&&(t.webkitTransitionDuration=t.MozTransitionDuration=t.msTransitionDuration=t.OTransitionDuration=t.transitionDuration=n+"ms",t.webkitTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform="translateX("+e+"px)")}function I(){(f=a.auto||0)&&(t=setTimeout(k,f))}function N(){f=0,clearTimeout(t)}function X(){N(),I()}function Q(t){return/^mouse/.test(t.type)}}return(V.jQuery||V.Zepto)&&((e=V.jQuery||V.Zepto).fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}),Swipe});